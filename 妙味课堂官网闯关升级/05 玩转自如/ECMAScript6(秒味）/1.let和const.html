<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Title</title>
</head>
<body>
    <button>1</button>
    <button>2</button>
    <button>3</button>
    <button>4</button>
    <button>5</button>
</body>
<script>
    //基本概念

    /**
     *  let命令：用来声明一个变量，和var非常类似
     *  const命令：用来声明一个常量，常量就是不可以变化的量。
     */

    // ----------------------------------------------------
    // 用let声明变量的注意事项 //

    // 1.使用let声明的变量，所声明的变量只在命令所在的代码块内有效

    /*
    {
        let a = 1;
        var b = 2;
        //console.log(a); //1
    }
    console.log(a); //报错：a is not defined
    console.log(b); //2
    */

    // 2.使用let声明的变量，在域解析的时候不会被提升
    /*
    console.log(a); //undefined
    var a = 1;
    */

    /*
    console.log(b); //Error
    let b = 2;
    */

    /*
    typeof c; //Error
    let c = 3;
    */

    /*
    let f = 10;
    function fn() {
        f = 7;  //暂时性死区
        let f = 2;
    }
    fn();
    */

    // 3.let不允许在同一个作用域下声明已经存在的变量

    /*
    var a = 1;
    let a; //Error
    */

    /*
    let b = 1;
    let b = 2 //Error
    */

    // ----------------------------------------------------
    // let在for循环中的应用 //
    var btns = document.querySelectorAll('button');

    /*
    for (var i=0; i<btns.length; i++){
        btns[i].onclick = function () {
            console.log(i);
        }
    }
    */

    /*
    //自定义属性
    for (var i=0; i<btns.length; i++){
        btns[i].index = i;
        btns[i].onclick = function () {
            console.log(this.index);
        }
    }
    */

    /*
    //闭包
    for (var i=0; i<btns.length; i++){
        (function (i) {
            btns[i].onclick = function () {
                console.log(i);
            }
        })(i);
    }
    */

    /*
    //使用let
    for (let i=0; i<btns.length; i++){
        btns[i].onclick = function () {
            console.log(i);
        }
    }
    */

    /*
    //在循环语句中用let声明的变量，在循环语句内是一个父作用域，在循环体之中是一个子作用域
    for(let i=0; i<3; i++){
        let i = 10;
        console.log(i);
    }
    console.log(i);
    //10
    //10
    //10
    //Error：i is not defined
    */


    // ----------------------------------------------------
    /**
     *  const命令同样有上面let的1、2、3条特点：
     *  1.所声明的常量只在其所在的代码块内有效
     *  2.声明的常量不会被提升
     *  3.不能声明已经被声明过的常量或变量
     */

    // ----------------------------------------------------
    // 用const声明常量需要注意的两点： //

    //1.声明的时候必须赋值
    /*
    const a; //Error
    */

    // 2.声明的常量存储简单的数据雷系的时候不可改变其值，如果存储的是对象，那么引用不可以被改变，至于对象里面的数据如何变化，是没有关系的

    /*
    const a = 1;
    a = {} //Error
    */

    const obj = {a: 10};
    obj.a = 20; //不报错
    console.log(obj); //{a: 20}
</script>
</html>