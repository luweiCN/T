<!doctype html>
<head>
    <meta charset="utf-8">
    <title>Title</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        #div1{
            width: 300px;
            height: 300px;
            border: 1px solid black;
            margin: 10px auto;
            overflow: hidden;
        }
        #div1 div{
            list-style: none;
            border-bottom: 1px dashed #999;
            padding: 2px;
            overflow: hidden;
            filter: alpha(opacity:0);
            opacity: 0;
        }
    </style>

    <script src="move2.js"></script>
    <script>
        window.onload = function () {
            var oText = document.getElementById('txt1');
            var oBtn = document.getElementById('btn1');
            var oDiv = document.getElementById('div1');

            oBtn.onclick = function () {
                var oNewDiv = document.createElement('div');
                var aDiv = oDiv.getElementsByTagName('div');

                oNewDiv.innerHTML = oText.value;
                oText.value = '';
                if(aDiv.length){
                    oDiv.insertBefore(oNewDiv, aDiv[0]);
                } else {
                    oDiv.appendChild(oNewDiv);
                }

                var iHeight = oNewDiv.offsetHeight;
                oNewDiv.style.height = 0;
                startMove(oNewDiv, {'height':iHeight}, function () {
                    startMove(oNewDiv, {'opacity':100});
                });
            }
        }
    </script>
</head>
<body>
    <textarea name="" id="txt1" cols="40" rows="10"></textarea> <br />
    <input type="button" id="btn1"  value="发布"/>
    <div id="div1">
        <div>dsfdsf</div>
    </div>
</body>
</html>