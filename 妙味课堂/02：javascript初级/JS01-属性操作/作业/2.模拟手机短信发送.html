<!DOCTYPE html>
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<style type="text/css">
		body{font-size: 16px; font-family: "黑体",arial;}
		.clear{zoom:1;}
		.clear:after{content:''; display:block; clear:both;}

		.bg{width: 289px; height: 594px; margin: 50px auto; background: url(./img1/bg.jpg) no-repeat; position: relative;}
		#content{width: 237px; height: 414px; border: 4px solid #09060f; position: absolute; top: 83px; left: 22px; padding-top: 5px;}
		#bot{height: 48px; width: 235px; background: url(./img1/t_bg.jpg); border: 1px solid #bdcec6; position: absolute; bottom: 0; }
		#img1{border: none; padding: 0; margin: 0; position: absolute; left: 8px; bottom: 11px;}
		#inp{border-radius:5px; border:1px solid #ded6e7; outline: none; background: none; width: 139px; height: 33px; position: absolute; left: 41px; top: 7px; margin: 0; padding: 0; font-family: "黑体";}
		#sent{display: inline-block; text-decoration: none; color: #000; width: 48px; height: 40px; font-size: 20px; line-height: 40px; text-align: center; margin-right: 4px; margin-top: 5px; float: right;}

		#right{margin-top: 6px; margin-left: -8px; margin-right: 2px; width: 224px; text-align: right;}
		#rText{display: inline-block; text-align: left; background: #15d943; padding: 4px; border:1px solid #7c7c7c; border-radius: 5px; float: right; margin-right: 10px; color: #fff;}
		#rImg{vertical-align: top; float: right;}
		.rSpan{width: 195px; float: right;}


		#left{margin-top: 6px; margin-right: 8px; margin-left: 2px; width: 224px; text-align: left;}
		#lText{display: inline-block; text-align: right; background: #ded6e7; padding: 4px; border:1px solid #7c7c7c; border-radius: 5px; float: left; margin-left: 10px; color: #000;}
		#lImg{vertical-align: top; float: left;}
		.lSpan{width: 195px; float: left;}
		#text{ width: 237px; height: 370px;overflow: auto;
			overflow-x: hidden; }
	</style>

	<script type="text/javascript">
		window.onload = function () {
			var oImg1 = document.getElementById('img1');
			var oInp = document.getElementById('inp');
			var oSent = document.getElementById('sent');

            var oDivText = document.getElementById('text');
			var html = '';

			var swi = true;

			oImg1.onclick = function () {
				if (swi){
				    oImg1.src = './img1/2.jpg';
				} else {
                    oImg1.src = './img1/1.jpg';
				}
				swi = !swi;
            }

            oSent.onclick = function () {
				if (oInp.value == ''){
				    alert('请输入内容');
				} else if(!swi){
					var oDiv = document.createElement('div');
					oDiv.classList.add('clear');
					var oImg = document.createElement('img');
					var oSpan = document.createElement('div');
					var oText = document.createElement('span');

				    oDiv.id = 'left';
				    oImg.id = 'lImg';
				    oImg.src = './img1/2.jpg';
				    oSpan.classList.add('lSpan');
				    oText.id = 'lText';
				    oText.innerHTML = oInp.value;

				    oDiv.appendChild(oImg);
				    oSpan.appendChild(oText);
				    oDiv.appendChild(oSpan);
				    if (!oDivText.firstElementChild){
						oDivText.appendChild(oDiv);
					} else {
						oDivText.insertBefore(oDiv,oDivText.childNodes[0]);
					}
				} else {
					var oDiv = document.createElement('div');
					oDiv.classList.add('clear');
					var oImg = document.createElement('img');
					var oSpan = document.createElement('div');
					var oText = document.createElement('span');

					oDiv.id = 'right';
					oImg.id = 'rImg';
					oImg.src = './img1/1.jpg';
					oSpan.classList.add('rSpan');
					oText.id = 'rText';
					oText.innerHTML = oInp.value;

					oDiv.appendChild(oImg);
					oSpan.appendChild(oText);
					oDiv.appendChild(oSpan);
					if (!oDivText.firstElementChild){
						oDivText.appendChild(oDiv);
					} else {
						oDivText.insertBefore(oDiv,oDivText.childNodes[0]);
					}
				}
            }


        }
	</script>
</head>
<body>
	<div class="bg">
		<div id="content">
			<div id="text">
				<!--<div id="right" class="clear">-->
					<!--<img id="rImg" src="./img1/1.jpg">-->
					<!--<div class="rSpan"><span id="rText">大家好，我是卢伟</span>-->
					<!--</div>-->
				<!--</div>-->

				<!--<div id="left" class="clear">-->
					<!--<img id="lImg" src="./img1/2.jpg">-->
					<!--<div class="lSpan"><span id="lText">大家好，我是卢伟</span>-->
					<!--</div>-->
				<!--</div>-->
			</div>
			<div id="bot">
				<span id="sent">发送</span>
				<span><img id="img1" src="./img1/1.jpg"></span>
				<input type="text" id="inp">
			</div>	
		</div>
	</div>

</body>
</html>